<template>
    <!-- LOADER -->
     <template lwc:if={isLoading}>
        <lightning-spinner variant="brand" sizie="large"></lightning-spinner>
     </template>
    <!-- MODAL SECTION -->
    <div class="slds-modal__header slds-text-heading_large">
        Add Multiple Contacts
    </div>
    <div class="bodyContainer">
        <table>
            <thead>
                <tr>
                    <td>First Name</td>
                    <td>Last Name <span class="slds-text-color_destructive">*</span></td>
                    <td>Email</td>
                    <td>Gender</td>
                    <td>
                        <lightning-button-icon icon-name="utility:add" title="Add New Contact"
                        class="slds-m-left_xx-small" onclick={addNewClickHandler}></lightning-button-icon>
                    </td>
                </tr>
            </thead>
            <tbody>
                 <template for:each={contacts} for:item="contact">
                    <tr key={contact.tempId}>
                        <td>
                            <lightning-input 
                            label="First Name" 
                            variant="label-hidden" 
                            onblur={elementChaneHandler}
                            data-temp-id={contact.tempId}
                            name="FirstName"
                            placeholder="Enter First Name">
                            </lightning-input>
                        </td>
                        <td>
                            <lightning-input 
                            label="Last Name"
                            name="LastName"
                            variant="label-hidden" 
                            onblur={elementChaneHandler}
                            data-temp-id={contact.tempId}
                            placeholder="Enter Last Name"
                            required>
                        </lightning-input>
                        </td>
                        <td>
                            <lightning-input 
                            label="Email" 
                            variant="label-hidden" 
                            name="Email"
                            type="email"
                            onblur={elementChaneHandler}
                            data-temp-id={contact.tempId}
                            placeholder="Enter Email">
                        </lightning-input>
                        </td>
                        <td>
                            <lightning-combobox 
                            label="Gender" 
                            variant="label-hidden" 
                            name="GenderIdentity" 
                            onblur={elementChaneHandler} 
                            data-temp-id={contact.tempId} 
                            placeholder="Select Gender" 
                            options={getGenderPicklistValues}>
                        </lightning-combobox>
                        </td>
                        <td>
                            <lightning-button-icon icon-name="utility:delete" title="Delete Contact"
                            class="slds-m-left_xx-small" onclick={deleteClickHandler}
                            data-temp-id={contact.tempId}></lightning-button-icon>
                        </td>
                    </tr>
                </template>
            </tbody>
        </table>
    </div>
    <div class="slds-modal__footer slds-text-align_right">
        <lightning-button label="Submit" variant="brand" onclick={submitClickHandler}></lightning-button>
    </div>
</template>